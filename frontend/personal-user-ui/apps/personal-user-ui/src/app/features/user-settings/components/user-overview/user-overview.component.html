<mat-card class="user-overview">
  <form
    (ngSubmit)="submitUser($event)"
    [formGroup]="userForm"
    class="user-overview-form"
  >
    <mat-form-field appearance="standard">
      <mat-label>First name</mat-label>
      <input matInput formControlName="firstName" />
    </mat-form-field>

    <mat-form-field appearance="standard">
      <mat-label>Last name</mat-label>
      <input matInput formControlName="lastName" />
    </mat-form-field>

    <mat-form-field class="example-chip-list" appearance="fill">
      <mat-label>Social Skills</mat-label>
      <mat-chip-list
        #chipList
        aria-label="Skill selection"
        formArrayName="socialSkills"
      >
        <mat-chip
          *ngFor="let skill of socialSkillsCtrl.value"
          (removed)="remove(skill)"
        >
          {{ skill }}
          <button matChipRemove>
            <mat-icon>cancel</mat-icon>
          </button>
        </mat-chip>
        <input
          placeholder="New skill..."
          #socialSkillInput
          [matAutocomplete]="auto"
          [matChipInputFor]="chipList"
          [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
          (matChipInputTokenEnd)="addNewSocialSkill($event)"
        />
      </mat-chip-list>
      <mat-autocomplete
        #auto="matAutocomplete"
        (optionSelected)="selected($event)"
      >
        <mat-option
          *ngFor="let skill of socialSkillSuggestions"
          [value]="skill"
        >
          {{ skill }}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>

    <div class="accounts">
      <div class="accounts-header">
        <h4>Accounts</h4>
        <button
          mat-mini-fab
          color="primary"
          aria-label="Add new account"
          (click)="addNewAccount($event)"
          type="button"
        >
          <mat-icon>add</mat-icon>
        </button>
      </div>
      <ng-container formArrayName="accounts">
        <div *ngFor="let account of accounts.controls; index as i">
          <div [formGroupName]="i">
            <mat-form-field class="account-type" appearance="fill">
              <mat-label>Type</mat-label>
              <mat-select formControlName="type">
                <mat-option
                  *ngFor="let accountType of accountTypes"
                  value="{{ accountType }}"
                >
                  {{ accountType }}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <mat-form-field appearance="standard">
              <mat-label>Address</mat-label>
              <input matInput formControlName="address" />
            </mat-form-field>
          </div>
          <!-- <enimco-user-account-input
          [account]="account"
        ></enimco-user-account-input> -->
        </div>
      </ng-container>

      <button
        mat-raised-button
        type="submit"
        color="primary"
        aria-label="submit"
      >
        submit
        <mat-icon>done</mat-icon>
      </button>
    </div>
  </form>
</mat-card>
